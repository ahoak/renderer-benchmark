{"version":3,"sources":["common/styled.ts","components/Controls/RendererControls/RendererControls.tsx","components/Footer/Footer.tsx","components/Controls/ControlledSlider/ControlledSlider.tsx","components/Controls/Controls.tsx","utils/SizedToParent.tsx","utils/useDimensions.ts","components/Chart/hooks/useCallbackRef.ts","components/Chart/PIXI/PixiRenderer.ts","components/Chart/hooks/useTweenData.ts","components/Chart/PIXI/PixiContainer.tsx","components/Chart/hooks/usePixiInstance.ts","components/Chart/SVG/D3Renderer.ts","utils/instrumentation.ts","components/Chart/SVG/D3Container.tsx","components/Chart/hooks/useD3Instance.ts","components/Chart/ChartContainer.tsx","hooks/useData.ts","components/VisualizePage/VisualizePage.tsx","hooks/UseRendererSelection.ts","components/IndexPage/IndexPage.tsx","common/theme.ts","components/App/App.tsx","index.tsx"],"names":["Renderers","Flexy","styled","div","Col","Page","Footer","memo","href","title","imageSize","width","height","RendererOptions","key","SVG","text","imageSrc","process","selectedImageSrc","Canvas","WebGL","RendererControls","selectedRender","onChange","Spacer","ChoiceGroup","selectedKey","options","label","sliderStyles","slideBox","root","display","fontFamily","titleLabel","ControlledSlider","sliderOnChange","sliderValue","sliderSettings","Slider","min","max","step","showValue","snapToStep","value","styles","Controls","onRendererChange","sliderMax","onSliderChange","ControlStyles","DEFAULT_STYLE","position","left","right","top","bottom","overflow","SizedToParent","sizedRef","onResize","children","className","style","defaultRef","useRef","ref","useMemo","dims","useState","dimensions","setDimensions","useEffect","current","rect","getBoundingClientRect","Math","floor","observer","ResizeObserver","entries","entry","newDims","contentRect","observe","disconnect","useDimensions","finalStyle","useCallbackRef","element","setElement","useCallback","node","displayName","PixiRenderer","duration","containerEl","onTransitionComplete","renderer","pixiElement","circleTexture","nodesStage","stage","initialized","spriteMap","rendererType","currDataLength","inTransition","cancelOp","this","setRenderer","circleTemplate","PIXI","beginFill","lineStyle","drawCircle","endFill","generateTexture","NEAREST","appendChild","view","addChild","pixiRender","forceCanvas","type","CANVAS","console","log","metrics","tweenToggle","destroy","removeChild","refresh","remove","data","length","enter","updateTransition","forEach","sprite","x","cx","y","cy","r","tint","hex","index","renderPixi","frames","start","performance","now","requestAnimationFrame","tweenRender","newTime","percent","easeCubic","cx1","cy1","end","delta","handleInstrumentationComplete","fps","render","resize","useTweenData","setLastFPS","toggle","setToggle","remixData","reduce","acc","d","push","PixiContainer","pixiRenderer","setCanvasElement","canvasElement","containerElement","pixiInstance","setPixiInstance","setUpPixi","useLayoutEffect","getRendererType","cancel","undefined","onRendererSwitch","usePixiInstance","PixiElement","D3Renderer","svgElementRef","abortTransition","select","selectAll","append","attr","fill","fillOpacity","transition","Promise","resolve","reject","size","tween","i","t","on","instrumentTransition","then","D3Container","setD3ContainerElement","d3ChartContainerElement","chartData","handleTransitionComplete","D3Instance","setD3Instance","setUpSVG","instance","useD3Instance","visible","role","id","ChartContainer","lastFPS","cData","setcData","FPSCounter","round","ChartStyle","parseColor","color","clean","replace","parseInt","sizeStyles","overflowY","VisualizePage","nodeCount","chartDimensions","setChartDimensions","handleResize","selectedNodeCount","setSelectedNodeCount","onSlider","val","Array","map","a","interpolatePlasma","random","rate","selectedRenderer","setSelectedRenderer","ev","option","useRendererSelection","Container","Selections","Chart","IndexPage","pinkTheme","createTheme","defaultFontStyle","fontSize","palette","themePrimary","themeLighterAlt","themeLighter","themeLight","themeTertiary","themeSecondary","themeDarkAlt","themeDark","themeDarker","neutralLighterAlt","neutralLighter","neutralLight","neutralQuaternaryAlt","neutralQuaternary","neutralTertiaryAlt","neutralTertiary","neutralSecondary","neutralPrimaryAlt","neutralPrimary","neutralDark","black","white","loadTheme","App","GlobalStyle","createGlobalStyle","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2d68e14f.chunk.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Flexy = styled.div`\n\tflex: 1;\n\tdisplay: flex;\n`\n\nexport const Row = styled(Flexy)`\n\tflex-direction: row;\n`\n\nexport const Col = styled(Flexy)`\n\tflex-direction: column;\n`\n\nexport const Page = styled(Col)`\n\tposition: relative;\n`\n\nexport const Gutter = styled.div`\n\twidth: 50px;\n`\n","import * as React from 'react'\nimport { memo, FormEvent } from 'react'\nimport styled from 'styled-components'\nimport { IChoiceGroupOption, ChoiceGroup } from '@fluentui/react'\n\nexport enum Renderers {\n\tSVG = 'SVG',\n\tCanvas = 'Canvas',\n\tWebGL = 'WebGL',\n}\n\nconst imageSize = { width: 32, height: 32 }\n\nexport const RendererOptions: IChoiceGroupOption[] = [\n\t{\n\t\tkey: Renderers.SVG,\n\t\ttext: Renderers.SVG,\n\t\timageSrc: `${process.env.PUBLIC_URL}/images/turtle-outline.svg`,\n\t\tselectedImageSrc: `${process.env.PUBLIC_URL}/images/turtle.svg`,\n\t\timageSize,\n\t},\n\t{\n\t\tkey: Renderers.Canvas,\n\t\ttext: Renderers.Canvas,\n\t\timageSrc: `${process.env.PUBLIC_URL}/images/rabbit-outline.svg`,\n\t\tselectedImageSrc: `${process.env.PUBLIC_URL}/images/rabbit.svg`,\n\t\timageSize,\n\t},\n\t{\n\t\tkey: Renderers.WebGL,\n\t\ttext: Renderers.WebGL,\n\t\timageSrc: `${process.env.PUBLIC_URL}/images/cheetah-outline.svg`,\n\t\tselectedImageSrc: `${process.env.PUBLIC_URL}/images/cheetah.svg`,\n\t\timageSize,\n\t},\n]\n\ninterface RendererControlsProps {\n\tselectedRender: string\n\tonChange: (\n\t\tev: FormEvent<HTMLElement | HTMLInputElement> | undefined,\n\t\toption?: IChoiceGroupOption,\n\t) => void\n}\nexport const RendererControls: React.FC<RendererControlsProps> = memo(\n\tfunction RendererControls({ selectedRender, onChange }) {\n\t\treturn (\n\t\t\t<Spacer>\n\t\t\t\t<ChoiceGroup\n\t\t\t\t\tselectedKey={selectedRender}\n\t\t\t\t\toptions={RendererOptions}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tlabel=\"Renderer\"\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t)\n\t},\n)\n\nconst Spacer = styled.div`\n\tmargin-left: 10px;\n\tdisplay: inline-table;\n\tfont-family: 'Gaegu', cursive;\n`\n","import React, { memo } from 'react'\n\nexport const Footer: React.FC = memo(function Footer() {\n\treturn (\n\t\t<span>\n\t\t\tIcons made by{' '}\n\t\t\t<a href=\"https://www.flaticon.com/authors/freepik\" title=\"freepik\">\n\t\t\t\tFreepik\n\t\t\t</a>{' '}\n\t\t\tfrom{' '}\n\t\t\t<a href=\"https://www.flaticon.com/\" title=\"Flaticon\">\n\t\t\t\twww.flaticon.com\n\t\t\t</a>\n\t\t</span>\n\t)\n})\n","import React, { memo } from 'react'\nimport { Slider, ISliderStyles } from '@fluentui/react'\nimport styled from 'styled-components'\nexport interface SliderSettings {\n\tmin: number\n\tmax: number\n}\ninterface ControlledSliderProps {\n\tsliderOnChange: (value: number) => void\n\tsliderValue: number\n\tsliderSettings: SliderSettings\n}\n\nconst sliderStyles: Partial<ISliderStyles> = {\n\tslideBox: { width: 300 },\n\troot: { display: 'inline-table', fontFamily: \"'Gaegu', cursive\" },\n\ttitleLabel: { fontFamily: \"'Gaegu', cursive\" },\n}\n\nexport const ControlledSlider: React.FC<ControlledSliderProps> = memo(\n\tfunction ControlledSlider({\n\t\tsliderOnChange,\n\t\tsliderValue,\n\t\tsliderSettings,\n\t}: ControlledSliderProps) {\n\t\treturn (\n\t\t\t<Spacer>\n\t\t\t\t<Slider\n\t\t\t\t\tlabel=\"Adjust node count\"\n\t\t\t\t\tmin={sliderSettings.min}\n\t\t\t\t\tmax={sliderSettings.max}\n\t\t\t\t\tstep={1000}\n\t\t\t\t\tshowValue={true}\n\t\t\t\t\tsnapToStep={true}\n\t\t\t\t\tvalue={sliderValue}\n\t\t\t\t\tonChange={sliderOnChange}\n\t\t\t\t\tstyles={sliderStyles}\n\t\t\t\t/>\n\t\t\t</Spacer>\n\t\t)\n\t},\n)\n\nconst Spacer = styled.div`\n\tmargin-left: 10px;\n\tdisplay: inline-table;\n`\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\nimport { IChoiceGroupOption } from '@fluentui/react'\nimport { RendererControls } from './RendererControls'\nimport { ControlledSlider } from './ControlledSlider'\n\ninterface ControlsProps {\n\tselectedRender: string\n\tonRendererChange: (\n\t\tev: React.FormEvent<HTMLElement | HTMLInputElement> | undefined,\n\t\toption?: IChoiceGroupOption,\n\t) => void\n\tsliderMax: number\n\tonSliderChange: (val: number) => void\n}\n\nexport const Controls: React.FC<any> = memo(function Controls({\n\tselectedRender,\n\tonRendererChange,\n\tsliderMax,\n\tonSliderChange,\n}: ControlsProps) {\n\treturn (\n\t\t<ControlStyles>\n\t\t\t<RendererControls\n\t\t\t\tselectedRender={selectedRender}\n\t\t\t\tonChange={onRendererChange}\n\t\t\t/>\n\t\t\t<ControlledSlider\n\t\t\t\tsliderValue={sliderMax}\n\t\t\t\tsliderOnChange={onSliderChange}\n\t\t\t\tsliderSettings={{ min: 500, max: 10000 }}\n\t\t\t/>\n\t\t</ControlStyles>\n\t)\n})\n\nconst ControlStyles = styled.div`\n\tdisplay: 'inline-flex';\n\tmargin-left: 100px;\n`\n","import React, {\n\tmemo,\n\tuseEffect,\n\tuseRef,\n\tMutableRefObject,\n\tuseMemo,\n} from 'react'\nimport { useDimensions } from './useDimensions'\nimport { SizedToParentProps } from './types'\n\nconst DEFAULT_STYLE = {\n\t/* position: absolute so we don't cause the parent element to continually expand */\n\tposition: 'absolute',\n\tleft: 0,\n\tright: 0,\n\ttop: 0,\n\tbottom: 0,\n\toverflow: 'hidden',\n} as React.CSSProperties\n\n/**\n * Provides an element that is sized to its parent, without affecting the size of the parent.\n * It works by creating an element that is out of the layout flow (using position: absolute).\n *\n * Children should be styled with 'width: 100%, height: 100%' or use the onResize event listener to control the size of children or some other combination\n */\nexport const SizedToParent: React.FC<SizedToParentProps> = memo(\n\t({ sizedRef, onResize, children, className, style }: SizedToParentProps) => {\n\t\tconst defaultRef = useRef(null)\n\t\tconst ref: MutableRefObject<HTMLElement | null> = useMemo(\n\t\t\t() => sizedRef || defaultRef,\n\t\t\t[defaultRef, sizedRef],\n\t\t)\n\t\tconst dims = useDimensions(ref)\n\t\tuseEffect(() => {\n\t\t\tif (ref && dims && onResize) {\n\t\t\t\tonResize(dims)\n\t\t\t}\n\t\t}, [ref, dims, onResize])\n\t\tconst finalStyle = useMemo(\n\t\t\t() => ({\n\t\t\t\t...DEFAULT_STYLE,\n\t\t\t\t...(style || {}),\n\t\t\t}),\n\t\t\t[style],\n\t\t)\n\n\t\treturn (\n\t\t\t<div className={className} ref={ref as any} style={finalStyle}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t)\n\t},\n)\nSizedToParent.displayName = 'SizedToParent'\n","import { useState, MutableRefObject, useEffect } from 'react'\nimport ResizeObserver from 'resize-observer-polyfill'\nimport { Dimensions } from './types'\n\n/**\n * A hook for getting the dimensions of the given element\n * This hook also updates when the given element resizes\n * @param ref A ref to the element to measure\n * @returns The dimensions for the element.\n */\nexport function useDimensions(\n\tref: MutableRefObject<HTMLElement | null>,\n): Dimensions | undefined {\n\tconst [dimensions, setDimensions] = useState<Dimensions | undefined>()\n\tuseEffect(() => {\n\t\tif (ref && ref.current) {\n\t\t\tconst rect = ref.current.getBoundingClientRect()\n\t\t\tlet dims: Dimensions = {\n\t\t\t\twidth: Math.floor(rect.width),\n\t\t\t\theight: Math.floor(rect.height),\n\t\t\t}\n\t\t\tsetDimensions(dims)\n\n\t\t\tconst observer = new ResizeObserver(entries => {\n\t\t\t\tconst entry = entries[0]\n\t\t\t\tif (entry) {\n\t\t\t\t\tconst newDims = {\n\t\t\t\t\t\twidth: Math.floor(entry.contentRect.width),\n\t\t\t\t\t\theight: Math.floor(entry.contentRect.height),\n\t\t\t\t\t}\n\t\t\t\t\tif (newDims.width !== dims.width || newDims.height !== dims.height) {\n\t\t\t\t\t\tdims = newDims\n\t\t\t\t\t\tsetDimensions(newDims)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\tobserver.observe(ref.current)\n\t\t\treturn () => {\n\t\t\t\tobserver.disconnect()\n\t\t\t}\n\t\t}\n\t}, [ref])\n\treturn dimensions as Dimensions | undefined\n}\n","import { useState, useCallback } from 'react'\n\n/**\n * Use a callback-based element reference. This is useful when the\n * element is required for in-band rendering or effectful measuring.\n *\n */\nexport function useCallbackRef<T>(): [(ref: T) => void, T | null] {\n\tconst [element, setElement] = useState<T | null>(null)\n\tconst refCb = useCallback((node: T) => setElement(node), [setElement])\n\treturn [refCb, element]\n}\n","import * as PIXI from 'pixi.js'\nimport { easeCubic } from 'd3-ease'\nimport { Data } from '../../../hooks/useData'\nimport { Dimensions } from '../../../utils/types'\nimport { Renderers } from '../../Controls/RendererControls'\n\n// @ts-ignore\nexport * from 'pixi.js-legacy'\n// @ts-ignore\nexport * from '@pixi/canvas-renderer'\n\ninterface SpriteMap {\n\t[key: string]: PIXI.Sprite\n}\n\nclass PixiRenderer {\n\tprivate pixiElement: HTMLElement\n\tprivate renderer: PIXI.Renderer | PIXI.CanvasRenderer\n\tprivate circleTexture: PIXI.Texture\n\tprivate nodesStage: PIXI.Container\n\tprivate stage: PIXI.Container\n\tprivate dimensions: Dimensions\n\tprivate duration: number\n\tprivate initialized = false\n\tprivate spriteMap: SpriteMap = {}\n\tprivate rendererType: Renderers\n\tprivate currDataLength = 0\n\tprivate inTransition = false\n\tprivate cancelOp = false\n\tprivate onTransitionComplete?: (metrics: any, tweenToggle: boolean) => void\n\n\tconstructor(\n\t\twidth: number,\n\t\theight: number,\n\t\tduration: number,\n\t\tcontainerEl: HTMLDivElement,\n\t\tonTransitionComplete: (metrics: any, tweenToggle: boolean) => void,\n\t\trenderer: Renderers,\n\t) {\n\t\tthis.currDataLength = 0\n\t\tthis.pixiElement = containerEl\n\t\tthis.initialized = false\n\t\tthis.rendererType = renderer\n\t\tthis.duration = duration\n\t\tthis.dimensions = { height, width }\n\t\tthis.onTransitionComplete = onTransitionComplete\n\n\t\t// ==== set up pixi stuff\n\t\tthis.renderer = this.setRenderer(renderer, this.dimensions)\n\t\tconst circleTemplate = new PIXI.Graphics()\n\t\t\t.beginFill(0xffffff)\n\t\t\t.lineStyle(0)\n\t\t\t.drawCircle(0, 0, 10)\n\t\t\t.endFill()\n\t\tthis.circleTexture = this.renderer.generateTexture(\n\t\t\tcircleTemplate,\n\t\t\tPIXI.SCALE_MODES.NEAREST,\n\t\t\twidth / height,\n\t\t)\n\t\t// alternatively we could texture from image\n\t\t// this.circleTexture = PIXI.Texture.from('/images/cheetah.svg')\n\t\tthis.pixiElement.appendChild(this.renderer.view)\n\t\tthis.nodesStage = new PIXI.Container()\n\t\tthis.stage = new PIXI.Container()\n\t\tthis.stage.addChild(this.nodesStage)\n\t}\n\n\tprivate setRenderer(renderer: Renderers, dimensions: Dimensions) {\n\t\t// Renderer will choose webGL if supported and failover to canvas\n\t\t// For only canvas renderer use forceCanvas option but only supported with pixi-legacy module\n\t\t// alternatively can use PIXI.Application\n\n\t\tconst pixiRender = PIXI.autoDetectRenderer({\n\t\t\twidth: dimensions.width,\n\t\t\theight: dimensions.height,\n\t\t\tforceCanvas: renderer === Renderers.Canvas,\n\t\t})\n\t\tconst rendererType =\n\t\t\tpixiRender.type === PIXI.RENDERER_TYPE.CANVAS ? 'CANVAS' : 'WEBGL'\n\t\tconsole.log('pixiRenderer', rendererType)\n\t\treturn pixiRender\n\t}\n\n\tpublic getRendererType(): Renderers {\n\t\treturn this.rendererType\n\t}\n\n\tprivate handleInstrumentationComplete(metrics: any, tweenToggle: boolean) {\n\t\tthis.inTransition = false\n\t\tif (this.onTransitionComplete) {\n\t\t\tthis.onTransitionComplete(metrics, tweenToggle)\n\t\t}\n\t}\n\n\tpublic remove(): void {\n\t\tif (this.renderer) {\n\t\t\tthis.stage.destroy({ children: true })\n\t\t\tthis.pixiElement.removeChild(this.renderer.view)\n\t\t\tthis.renderer.destroy(true)\n\t\t\tthis.refresh()\n\t\t}\n\t}\n\n\tpublic cancel(): void {\n\t\tthis.cancelOp = true\n\t\tthis.remove()\n\t}\n\n\tprivate refresh(): void {\n\t\tthis.initialized = false\n\t\tthis.spriteMap = {}\n\t\tthis.stage.removeChild(this.nodesStage)\n\t\tthis.nodesStage = new PIXI.Container()\n\t\tthis.stage.addChild(this.nodesStage)\n\t}\n\n\tpublic onRendererSwitch(data: Data[], tweenToggle: boolean): void {\n\t\tif (this.currDataLength !== data.length) {\n\t\t\tthis.refresh()\n\t\t\tthis.currDataLength = data.length\n\t\t}\n\t\tif (!this.inTransition) {\n\t\t\tthis.inTransition = true\n\t\t\tif (!this.initialized) {\n\t\t\t\tthis.initialized = true\n\t\t\t\tthis.enter(data)\n\t\t\t}\n\t\t\tthis.updateTransition(data, tweenToggle)\n\t\t}\n\t}\n\tprivate enter(data: Data[]): void {\n\t\tconst stage = this.nodesStage\n\t\tdata.forEach(node => {\n\t\t\tconst sprite = new PIXI.Sprite(this.circleTexture)\n\t\t\tsprite.x = node.cx\n\t\t\tsprite.y = node.cy\n\t\t\tsprite.width = node.r * 2\n\t\t\tsprite.height = node.r * 2\n\t\t\tsprite.tint = node.hex\n\t\t\tthis.spriteMap[`${node.index}`] = sprite\n\t\t\tstage.addChild(sprite)\n\t\t})\n\t\tthis.renderPixi()\n\t}\n\n\tprivate updateTransition(data: Data[], tweenToggle: boolean) {\n\t\tlet frames = 0\n\t\tconst tweenRender = (newTime: number) => {\n\t\t\tconst deltaTime = newTime - start\n\t\t\tconst percent = deltaTime / this.duration\n\t\t\tif (data) {\n\t\t\t\tdata.forEach(node => {\n\t\t\t\t\tconst sprite = this.spriteMap[`${node.index}`] as PIXI.Sprite\n\t\t\t\t\tif (sprite) {\n\t\t\t\t\t\t// percent * (current - prev) + prev\n\t\t\t\t\t\tconst cx = easeCubic(percent) * (node.cx1 - node.cx) + node.cx\n\t\t\t\t\t\tconst cy = easeCubic(percent) * (node.cy1 - node.cy) + node.cy\n\t\t\t\t\t\tsprite.x = cx\n\t\t\t\t\t\tsprite.y = cy\n\t\t\t\t\t\tsprite.width = node.r * 2\n\t\t\t\t\t\tsprite.height = node.r * 2\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.renderPixi()\n\t\t\t}\n\n\t\t\tframes++\n\t\t\tif (percent < 1.0 && !this.cancelOp) {\n\t\t\t\trequestAnimationFrame(tweenRender)\n\t\t\t} else {\n\t\t\t\t// calculate fps metrics\n\t\t\t\tconst end = performance.now()\n\t\t\t\tconst delta = end - start\n\t\t\t\tthis.handleInstrumentationComplete(\n\t\t\t\t\t{\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t\t\tdelta,\n\t\t\t\t\t\tframes,\n\t\t\t\t\t\tfps: frames / (delta / 1000),\n\t\t\t\t\t},\n\t\t\t\t\ttweenToggle,\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t\tconst start = performance.now()\n\t\trequestAnimationFrame(tweenRender)\n\t}\n\tprivate renderPixi(): void {\n\t\tif (\n\t\t\tthis.renderer &&\n\t\t\tthis.renderer !== null &&\n\t\t\tthis.stage &&\n\t\t\tthis.stage !== null &&\n\t\t\t!this.cancelOp\n\t\t) {\n\t\t\tthis.renderer.render(this.stage)\n\t\t}\n\t}\n\n\tpublic resize(width: number, height: number): void {\n\t\tthis.dimensions.height = height\n\t\tthis.dimensions.width = width\n\t\tif (this.renderer) {\n\t\t\tthis.renderer.resize(width, height)\n\t\t}\n\t}\n}\nexport default PixiRenderer\n","import { useState, useMemo, useCallback } from 'react'\nimport { Data } from '../../../hooks/useData'\ninterface TweenData {\n\tdata: Data[]\n\tsetLastFPS: (fps: number) => void\n}\n\nexport const useTweenData = ({\n\tdata,\n\tsetLastFPS,\n}: TweenData): [\n\tData[],\n\t(metrics: any, tweenToggle: boolean) => void,\n\tboolean,\n] => {\n\tconst [toggle, setToggle] = useState<boolean>(true)\n\n\tconst remixData = useMemo(() => {\n\t\tconst remix = [...data].reduce((acc, d) => {\n\t\t\tacc.push({\n\t\t\t\t...d,\n\t\t\t\tcx1: d.cx,\n\t\t\t\tcy1: d.cy,\n\t\t\t\tcx: d.cx1,\n\t\t\t\tcy: d.cy1,\n\t\t\t})\n\t\t\treturn acc\n\t\t}, [] as Data[])\n\n\t\treturn remix\n\t}, [data])\n\n\tconst chartData = useMemo(() => (!toggle ? remixData : data), [\n\t\tremixData,\n\t\tdata,\n\t\ttoggle,\n\t])\n\tconst handleTransitionComplete = useCallback(\n\t\t(metrics: any, tweenToggle: boolean) => {\n\t\t\tsetToggle(!tweenToggle)\n\t\t\tsetLastFPS(metrics.fps)\n\t\t},\n\t\t[setLastFPS, setToggle],\n\t)\n\treturn [chartData, handleTransitionComplete, toggle]\n}\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\nimport { Data } from '../../../hooks/useData'\nimport { useCallbackRef } from '../hooks/useCallbackRef'\nimport { usePixiInstance } from '../hooks/usePixiInstance'\nimport { Renderers } from '../../Controls/RendererControls'\nimport { useTweenData } from '../hooks/useTweenData'\n\nexport interface PixiContainerProps {\n\tdata: Data[]\n\twidth: number\n\theight: number\n\tduration: number\n\trenderer: Renderers\n\tpixiRenderer: Renderers\n\tsetLastFPS: (fps: number) => void\n}\n\nexport const PixiContainer: React.FC<PixiContainerProps> = memo(\n\tfunction PixiContainer({\n\t\tdata,\n\t\twidth,\n\t\theight,\n\t\tduration,\n\t\trenderer,\n\t\tpixiRenderer,\n\t\tsetLastFPS,\n\t}: PixiContainerProps) {\n\t\tconst [setCanvasElement, canvasElement] = useCallbackRef<HTMLDivElement>()\n\t\tconst [chartData, handleTransitionComplete, tweenToggle] = useTweenData({\n\t\t\tdata,\n\t\t\tsetLastFPS,\n\t\t})\n\n\t\t// setup pixi instance\n\t\tusePixiInstance({\n\t\t\tdata: chartData,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tcontainerElement: canvasElement,\n\t\t\tduration,\n\t\t\tonTransitionComplete: handleTransitionComplete,\n\t\t\trenderer,\n\t\t\tpixiRenderer,\n\t\t\ttweenToggle,\n\t\t})\n\n\t\treturn <PixiElement ref={setCanvasElement} className=\"canvas-ref\" />\n\t},\n)\n\nconst PixiElement = styled.div`\n\tposition: absolute;\n`\n","import { useState, useMemo, useCallback, useLayoutEffect } from 'react'\nimport PixiRenderer from '../PIXI/PixiRenderer'\nimport { Dimensions } from '../../../utils/types'\nimport { Data } from '../../../hooks/useData'\nimport { Renderers } from '../../Controls/RendererControls'\n\nexport interface PixiInstance {\n\tdata: Data[]\n\tcontainerElement: HTMLDivElement | null\n\twidth: number\n\theight: number\n\tduration: number\n\trenderer: Renderers\n\tpixiRenderer: Renderers\n\tonTransitionComplete: (metrics: any, tweenToggle: boolean) => void\n\ttweenToggle: boolean\n}\n\nexport function usePixiInstance({\n\tdata,\n\twidth,\n\theight,\n\tcontainerElement,\n\tduration,\n\trenderer,\n\tpixiRenderer,\n\tonTransitionComplete,\n\ttweenToggle,\n}: PixiInstance): PixiRenderer | undefined {\n\tconst [pixiInstance, setPixiInstance] = useState<PixiRenderer | undefined>()\n\n\t// resize canvas on dimension change\n\tconst dimensions: Dimensions = useMemo(() => {\n\t\tif (pixiInstance) {\n\t\t\tpixiInstance.resize(width, height)\n\t\t}\n\t\treturn { width, height }\n\t}, [width, height, pixiInstance])\n\n\tconst setUpPixi = useCallback(() => {\n\t\tif (renderer === pixiRenderer) {\n\t\t\tif (containerElement !== null) {\n\t\t\t\tconst pixiInstance = new PixiRenderer(\n\t\t\t\t\tdimensions.width,\n\t\t\t\t\tdimensions.height,\n\t\t\t\t\tduration,\n\t\t\t\t\tcontainerElement,\n\t\t\t\t\tonTransitionComplete,\n\t\t\t\t\trenderer,\n\t\t\t\t)\n\t\t\t\tsetPixiInstance(pixiInstance)\n\t\t\t}\n\t\t}\n\t}, [\n\t\tcontainerElement,\n\t\tdimensions,\n\t\tduration,\n\t\trenderer,\n\t\tonTransitionComplete,\n\t\tpixiRenderer,\n\t])\n\n\tuseLayoutEffect(() => {\n\t\tif (pixiInstance) {\n\t\t\tconst currentRenderer = pixiInstance.getRendererType()\n\t\t\tif (currentRenderer !== renderer) {\n\t\t\t\tpixiInstance.cancel()\n\t\t\t\tsetPixiInstance(undefined)\n\t\t\t} else {\n\t\t\t\tpixiInstance.onRendererSwitch(data, tweenToggle)\n\t\t\t}\n\t\t} else {\n\t\t\tsetUpPixi()\n\t\t}\n\t}, [pixiInstance, renderer, setUpPixi, data, tweenToggle])\n\n\treturn pixiInstance\n}\n","import { select } from 'd3-selection'\nimport 'd3-transition'\nimport { Data } from '../../../hooks/useData'\nimport { instrumentTransition } from '../../../utils/instrumentation'\nimport { Renderers } from '../../Controls/RendererControls'\n\nexport interface D3RendererProps {\n\tduration: number\n\tsvgElementRef: SVGElement\n\tonTransitionComplete: (\n\t\tmetrics: any,\n\t\ttweenToggle: boolean,\n\t\trenderer?: Renderers,\n\t) => void\n}\n\nexport class D3Renderer {\n\tprivate duration = 1000\n\tprivate svgElementRef: SVGElement\n\tprivate initialized = false\n\tprivate currDataLength = 0\n\tprivate abortTransition = false\n\tprivate onTransitionComplete: (\n\t\tmetrics: any,\n\t\ttweenToggle: boolean,\n\t\trenderer?: Renderers,\n\t) => void\n\tprivate inTransition = false\n\n\tconstructor({\n\t\tduration,\n\t\tonTransitionComplete,\n\t\tsvgElementRef,\n\t}: D3RendererProps) {\n\t\tthis.duration = duration\n\t\tthis.onTransitionComplete = onTransitionComplete\n\t\tthis.svgElementRef = svgElementRef\n\t}\n\n\tprivate handleInstrumentationComplete(\n\t\tmetrics: any,\n\t\ttweenToggle: boolean,\n\t\trenderer?: Renderers,\n\t) {\n\t\tif (this.onTransitionComplete && !this.abortTransition) {\n\t\t\tthis.onTransitionComplete(metrics, tweenToggle, renderer)\n\t\t}\n\t}\n\n\tpublic onRendererSwitch(data: Data[], tweenToggle: boolean) {\n\t\tif (this.currDataLength !== data.length) {\n\t\t\tthis.remove()\n\t\t\tthis.abortTransition = false\n\t\t\tthis.currDataLength = data.length\n\t\t}\n\t\tif (!this.inTransition) {\n\t\t\tthis.inTransition = true\n\t\t\tif (!this.initialized) {\n\t\t\t\tthis.enter(data)\n\t\t\t\tthis.initialized = true\n\t\t\t\tthis.updateTransition(data, tweenToggle, Renderers.SVG)\n\t\t\t} else {\n\t\t\t\tthis.updateTransition(data, tweenToggle, Renderers.SVG)\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate enter(data: Data[]) {\n\t\tconst svg = select(this.svgElementRef)\n\n\t\tsvg\n\t\t\t.selectAll('.d3-node')\n\t\t\t.data(data, (d: any) => d.index)\n\t\t\t.enter()\n\t\t\t.append('circle')\n\t\t\t.attr('class', 'd3-node')\n\t\t\t.attr('r', (d: Data) => d.r)\n\t\t\t.attr('fill', (d: Data) => d.fill)\n\t\t\t.attr('cx', (d: Data) => d.cx)\n\t\t\t.attr('cy', (d: Data) => d.cy)\n\t\t\t.attr('aria-label', (d: Data) => `circle-${d.fill}`)\n\t\t\t.attr('fill-opacity', (d: Data) => d.fillOpacity)\n\t}\n\n\tprivate updateTransition(\n\t\tdata: Data[],\n\t\ttweenToggle: boolean,\n\t\trenderer: Renderers,\n\t) {\n\t\tconst svg = select(this.svgElementRef)\n\t\tconst transition = svg\n\t\t\t.selectAll('.d3-node')\n\t\t\t.data(data, (d: any) => d.index)\n\t\t\t.transition()\n\t\t\t.duration(this.duration)\n\t\t\t.attr('cx', (d: Data) => d.cx1)\n\t\t\t.attr('cy', (d: Data) => d.cy1)\n\t\tthis.inTransition = false\n\n\t\tinstrumentTransition(transition).then(metrics => {\n\t\t\tthis.handleInstrumentationComplete(metrics, tweenToggle, renderer)\n\t\t})\n\t}\n\n\tpublic remove() {\n\t\tconst svg = select(this.svgElementRef)\n\t\tsvg.selectAll('*').remove()\n\t\tthis.initialized = false\n\t\tthis.abortTransition = true\n\t}\n}\n","/**\n * Instruments a d3 transition by hooking into the tween factory.\n * See: https://github.com/d3/d3-transition#control-flow\n * When you specify a tween function, you provide a factory that is called for each element.\n * That factory is expected to return an easing function to tween the element, which is called at each frame.\n * It is called for each element in the selection, so we're using the selection size to trigger updates when the last one is called for each frame.\n * This lets us track the frame count, and binding to the transition's end event (also looking for last element) let's us determine when it is complete.\n */\nexport const instrumentTransition = (transition: any) => {\n\treturn new Promise((resolve, reject) => {\n\t\tlet frames = 0\n\t\tconst start = performance.now()\n\t\tconst size = transition.size()\n\t\ttransition\n\t\t\t.tween('_framerate_', (d: any, i: number) => {\n\t\t\t\treturn (t: any) => {\n\t\t\t\t\tif (i === size - 1) {\n\t\t\t\t\t\tframes++\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('end.instrument', (d: any, i: number) => {\n\t\t\t\tif (i === size - 1) {\n\t\t\t\t\tconst end = performance.now()\n\t\t\t\t\tconst delta = end - start\n\t\t\t\t\tresolve({\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t\t\tdelta,\n\t\t\t\t\t\tframes,\n\t\t\t\t\t\tfps: frames / (delta / 1000),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t})\n}\n","import React, { memo, useMemo } from 'react'\nimport { useCallbackRef } from '../hooks/useCallbackRef'\nimport { Data } from '../../../hooks/useData'\nimport { Renderers } from '../../Controls/RendererControls'\nimport { useD3Instance } from '../hooks/useD3Instance'\nimport { useTweenData } from '../hooks/useTweenData'\nexport interface D3RendererProps {\n\tdata: Data[]\n\tduration: number\n\trenderer: Renderers\n\twidth: number\n\theight: number\n\tsetLastFPS: (fps: number) => void\n}\nexport const D3Container: React.FC<D3RendererProps> = memo(\n\tfunction D3Container({\n\t\tdata,\n\t\tduration,\n\t\trenderer,\n\t\twidth,\n\t\theight,\n\t\tsetLastFPS,\n\t}: D3RendererProps) {\n\t\t// Get Refs for SVG Elements\n\t\tconst [setD3ContainerElement, d3ChartContainerElement] = useCallbackRef<\n\t\t\tSVGGElement\n\t\t>()\n\t\tconst [chartData, handleTransitionComplete, tweenToggle] = useTweenData({\n\t\t\tdata,\n\t\t\tsetLastFPS,\n\t\t})\n\n\t\tuseD3Instance({\n\t\t\tdata: chartData,\n\t\t\tduration,\n\t\t\trenderer,\n\t\t\tcontainerElement: d3ChartContainerElement,\n\t\t\tonTransitionComplete: handleTransitionComplete,\n\t\t\ttweenToggle,\n\t\t})\n\n\t\tconst style = useMemo(\n\t\t\t() =>\n\t\t\t\t({\n\t\t\t\t\tvisible: renderer === Renderers.SVG ? 'visible' : 'hidden',\n\t\t\t\t} as React.CSSProperties),\n\t\t\t[renderer],\n\t\t)\n\n\t\treturn (\n\t\t\t<div style={style}>\n\t\t\t\t<svg width={width} height={height} role=\"img\">\n\t\t\t\t\t<title> SVG Implementation of Benchmarking application</title>\n\t\t\t\t\t<desc id=\"desc\">\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\tShow increasing number of circles based on user selection\n\t\t\t\t\t</desc>\n\t\t\t\t\t<g ref={setD3ContainerElement} className=\"svg-test\"></g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t)\n\t},\n)\n","import { useState, useCallback, useLayoutEffect } from 'react'\nimport { Data } from '../../../hooks/useData'\nimport { Renderers } from '../../Controls/RendererControls'\nimport PixiRenderer from '../PIXI/PixiRenderer'\nimport { D3Renderer } from '../SVG/D3Renderer'\n\nexport interface D3Instance {\n\tdata: Data[]\n\tcontainerElement: SVGGElement | null\n\tduration: number\n\trenderer: Renderers\n\tonTransitionComplete: (metrics: any, tweenToggle: boolean) => void\n\ttweenToggle: boolean\n}\n\nexport function useD3Instance({\n\tdata,\n\tcontainerElement,\n\tduration,\n\trenderer,\n\tonTransitionComplete,\n\ttweenToggle,\n}: D3Instance): D3Renderer | undefined {\n\tconst [D3Instance, setD3Instance] = useState<D3Renderer | undefined>()\n\n\tconst setUpSVG = useCallback(\n\t\t(instance?: PixiRenderer) => {\n\t\t\tif (!instance && containerElement !== null) {\n\t\t\t\tconst D3Instance = new D3Renderer({\n\t\t\t\t\tduration,\n\t\t\t\t\tonTransitionComplete,\n\t\t\t\t\tsvgElementRef: containerElement,\n\t\t\t\t})\n\t\t\t\tsetD3Instance(D3Instance)\n\t\t\t}\n\t\t},\n\t\t[containerElement, duration, onTransitionComplete],\n\t)\n\n\tuseLayoutEffect(() => {\n\t\tif (D3Instance) {\n\t\t\tif (renderer !== Renderers.SVG) {\n\t\t\t\tD3Instance.remove()\n\t\t\t\tsetD3Instance(undefined)\n\t\t\t} else {\n\t\t\t\tD3Instance.onRendererSwitch(data, tweenToggle)\n\t\t\t}\n\t\t} else {\n\t\t\tif (renderer === Renderers.SVG) {\n\t\t\t\tsetUpSVG(D3Instance)\n\t\t\t}\n\t\t}\n\t}, [renderer, D3Instance, setUpSVG, data, tweenToggle])\n\n\treturn D3Instance\n}\n","import React, { memo, useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { Renderers } from '../Controls/RendererControls/RendererControls'\nimport { Data } from '../../hooks/useData'\nimport { PixiContainer } from './PIXI/PixiContainer'\nimport { D3Container } from './SVG/D3Container'\n\nconst DURATION = 1000\nexport interface ChartContainerProps {\n\tdata: Data[]\n\twidth: number\n\theight: number\n\trenderer: Renderers\n}\n\nexport const ChartContainer: React.FC<ChartContainerProps> = memo(\n\tfunction ChartContainer({\n\t\tdata,\n\t\twidth,\n\t\theight,\n\t\trenderer,\n\t}: ChartContainerProps) {\n\t\tconst [lastFPS, setLastFPS] = useState<number>(0)\n\n\t\tconst [cData, setcData] = useState<Data[]>([])\n\n\t\tuseEffect(() => {\n\t\t\tsetcData(data)\n\t\t}, [setcData, data])\n\n\t\t// provides a crude estimate of FPS, which can replicated in FPS counter in the inspector tools for verification\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<FPSCounter>{`${Math.round(lastFPS)} FPS`}</FPSCounter>\n\t\t\t\t<ChartStyle>\n\t\t\t\t\t<PixiContainer\n\t\t\t\t\t\tdata={cData}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tduration={DURATION}\n\t\t\t\t\t\trenderer={renderer}\n\t\t\t\t\t\tpixiRenderer={Renderers.WebGL}\n\t\t\t\t\t\tsetLastFPS={setLastFPS}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PixiContainer\n\t\t\t\t\t\tdata={cData}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tduration={DURATION}\n\t\t\t\t\t\trenderer={renderer}\n\t\t\t\t\t\tpixiRenderer={Renderers.Canvas}\n\t\t\t\t\t\tsetLastFPS={setLastFPS}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<D3Container\n\t\t\t\t\t\tdata={cData}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\tduration={DURATION}\n\t\t\t\t\t\trenderer={renderer}\n\t\t\t\t\t\tsetLastFPS={setLastFPS}\n\t\t\t\t\t/>\n\t\t\t\t</ChartStyle>\n\t\t\t</>\n\t\t)\n\t},\n)\n\nconst FPSCounter = styled.div`\n\tfont-size: 100px;\n\tmargin-left: 100px;\n`\nconst ChartStyle = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n\tdisplay: inline-flex;\n`\n","import { useMemo } from 'react'\nimport { interpolatePlasma } from 'd3-scale-chromatic'\nimport { Dimensions } from '../utils/types'\n\nconst MAX_RADIUS = 8\nconst MAX_RATE = 10\n\nexport interface Data {\n\tindex: number\n\trate: number\n\tr: number\n\tfillOpacity: number\n\tcx: number\n\tcy: number\n\tcx1: number\n\tcy1: number\n\tfill: string\n\thex: number\n}\n\nexport function useData(nodeCount: number, dimensions?: Dimensions): Data[] {\n\treturn useMemo(() => {\n\t\tif (dimensions) {\n\t\t\tconst { height, width } = dimensions\n\t\t\tconst dataset = new Array(nodeCount).fill(1).map((a, index) => {\n\t\t\t\tconst color = interpolatePlasma(Math.random())\n\t\t\t\treturn {\n\t\t\t\t\tindex,\n\t\t\t\t\trate: 1 + Math.random() * MAX_RATE,\n\t\t\t\t\tr: 1 + Math.random() * MAX_RADIUS,\n\t\t\t\t\tfillOpacity: 1.0,\n\t\t\t\t\tcx: Math.random() * width,\n\t\t\t\t\tcy: Math.random() * height,\n\t\t\t\t\tcx1: Math.random() * width,\n\t\t\t\t\tcy1: Math.random() * height,\n\t\t\t\t\tfill: color,\n\t\t\t\t\thex: parseColor(color),\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn dataset\n\t\t}\n\t\treturn []\n\t}, [nodeCount, dimensions])\n}\n\nconst parseColor = (color: string) => {\n\tconst clean = color.replace('#', '')\n\treturn parseInt(clean, 16)\n}\n","import React, { memo, useCallback, useState } from 'react'\nimport { Page } from '../../common/styled'\nimport styled from 'styled-components'\nimport { Footer } from '../Footer'\nimport { Controls } from '../Controls/Controls'\nimport { SizedToParent } from '../../utils/SizedToParent'\nimport { Dimensions } from '../../utils/types'\nimport { ChartContainer } from '../Chart/'\nimport { useRendererSelection } from '../../hooks/UseRendererSelection'\nimport { useData } from '../../hooks/useData'\nconst sizeStyles = { overflowY: 'hidden' } as React.CSSProperties\n\nexport const VisualizePage: React.FC<any> = memo(function VisualizePage() {\n\t// get dimensions from ref\n\tconst [chartDimensions, setChartDimensions] = useState<\n\t\tDimensions | undefined\n\t>(undefined)\n\n\tconst handleResize = useCallback(\n\t\t({ width, height }: Dimensions) => {\n\t\t\tsetChartDimensions({ width, height })\n\t\t},\n\t\t[setChartDimensions],\n\t)\n\n\tconst [selectedNodeCount, setSelectedNodeCount] = useState<number>(2000)\n\tconst onSlider = useCallback(\n\t\t(val: number) => {\n\t\t\tsetSelectedNodeCount(val)\n\t\t},\n\t\t[setSelectedNodeCount],\n\t)\n\n\tconst chartData = useData(selectedNodeCount, chartDimensions)\n\tconst [selectedRenderer, onRendererChange] = useRendererSelection()\n\n\treturn (\n\t\t<Container>\n\t\t\t<Selections>\n\t\t\t\t<Controls\n\t\t\t\t\tselectedRender={selectedRenderer}\n\t\t\t\t\tonRendererChange={onRendererChange}\n\t\t\t\t\tonSliderChange={onSlider}\n\t\t\t\t\tsliderMax={selectedNodeCount}\n\t\t\t\t/>\n\t\t\t</Selections>\n\t\t\t<Chart>\n\t\t\t\t<SizedToParent style={sizeStyles} onResize={handleResize}>\n\t\t\t\t\t{chartData.length > 0 && chartDimensions ? (\n\t\t\t\t\t\t<ChartContainer\n\t\t\t\t\t\t\twidth={chartDimensions.width}\n\t\t\t\t\t\t\theight={chartDimensions.height}\n\t\t\t\t\t\t\tdata={chartData}\n\t\t\t\t\t\t\trenderer={selectedRenderer}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t)}\n\t\t\t\t</SizedToParent>\n\t\t\t</Chart>\n\t\t\t<Footer />\n\t\t</Container>\n\t)\n})\n\nconst Container = styled(Page)`\n\tmargin: 0;\n\tpadding: 0;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\tmin-height: 400px;\n`\nconst Chart = styled.div`\n\tposition: relative;\n\tflex: 1;\n\theight: 100%;\n\twidth: 100%;\n`\nconst Selections = styled.div`\n\theight: 200px;\n\tposition: relative;\n`\n","import { useState, useCallback, FormEvent } from 'react'\nimport { IChoiceGroupOption } from '@fluentui/react'\nimport { Renderers } from '../components/Controls/RendererControls'\n\nexport function useRendererSelection(): [\n\tRenderers,\n\t(\n\t\tevent: FormEvent<HTMLElement | HTMLInputElement> | undefined,\n\t\toption?: IChoiceGroupOption,\n\t) => void,\n] {\n\tconst [selectedRenderer, setSelectedRenderer] = useState<Renderers>(\n\t\tRenderers.SVG,\n\t)\n\n\tconst onRendererChange = useCallback(\n\t\t(\n\t\t\tev: FormEvent<HTMLElement | HTMLInputElement> | undefined,\n\t\t\toption?: IChoiceGroupOption,\n\t\t) => {\n\t\t\tif (option) {\n\t\t\t\tsetSelectedRenderer(option.key as Renderers)\n\t\t\t}\n\t\t},\n\t\t[setSelectedRenderer],\n\t)\n\n\treturn [selectedRenderer, onRendererChange]\n}\n","import React, { memo } from 'react'\nimport styled from 'styled-components'\nimport VisualizePage from '../VisualizePage'\n\nexport const IndexPage: React.FC = memo(function IndexPage() {\n\treturn (\n\t\t<Container>\n\t\t\t<VisualizePage />\n\t\t</Container>\n\t)\n})\n\nexport default IndexPage\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tmax-height: 100%;\n\tmax-width: 100%;\n\twidth: 100%;\n\theight: 100%;\n\tfont-family: 'Gaegu', cursive;\n`\n","import { createTheme } from '@fluentui/react'\n\n// Yay pink!\nexport const pinkTheme = createTheme({\n\tdefaultFontStyle: { fontFamily: \"'Gaegu', cursive\", fontSize: '20px' },\n\tpalette: {\n\t\tthemePrimary: '#f683ba',\n\t\tthemeLighterAlt: '#0a0507',\n\t\tthemeLighter: '#27151e',\n\t\tthemeLight: '#492738',\n\t\tthemeTertiary: '#934e6f',\n\t\tthemeSecondary: '#d772a3',\n\t\tthemeDarkAlt: '#f68ec0',\n\t\tthemeDark: '#f79fca',\n\t\tthemeDarker: '#f9b8d7',\n\t\tneutralLighterAlt: '#000000',\n\t\tneutralLighter: '#000000',\n\t\tneutralLight: '#000000',\n\t\tneutralQuaternaryAlt: '#000000',\n\t\tneutralQuaternary: '#000000',\n\t\tneutralTertiaryAlt: '#b30474',\n\t\tneutralTertiary: '#c8c8c8',\n\t\tneutralSecondary: '#d0d0d0',\n\t\tneutralPrimaryAlt: '#dadada',\n\t\tneutralPrimary: '#ffffff',\n\t\tneutralDark: '#f4f4f4',\n\t\tblack: '#f8f8f8',\n\t\twhite: '#000000',\n\t},\n})\n","import React, { memo, StrictMode } from 'react'\nimport IndexPage from '../IndexPage'\nimport { createGlobalStyle } from 'styled-components'\nimport './font.css'\nimport { loadTheme } from '@fluentui/react'\nimport { pinkTheme } from '../../common/theme'\nloadTheme(pinkTheme)\nconst App: React.FC = memo(function App() {\n\treturn (\n\t\t<StrictMode>\n\t\t\t<GlobalStyle />\n\t\t\t<IndexPage />\n\t\t</StrictMode>\n\t)\n})\nexport default App\n\nconst GlobalStyle = createGlobalStyle`\n\thtml {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tmax-height: 100%;\n\t\tmax-width: 100%;\n\t\tdisplay: flex;\n\t}\n  body {\n\t\tdisplay: flex;\n\t\tflex: 1;\n\t\tmargin: 0;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\toverscroll-behavior: none;\n\t\tmax-height: 100%;\n\t\tmax-width: 100%;\n\t}\n\t#root {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tmax-height: 100%;\n\t\tmax-width: 100%;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tbackground: black;\n\t\tcolor: white;\n\t}\n`\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}